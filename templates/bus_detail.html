{% extends "layout.html" %}

{% block content %}
<h2>Bus Details</h2>

<p><strong>Bus Name:</strong> {{ bus['bus_name'] }}</p>
<p><strong>Source:</strong> {{ bus['source'] }}</p>
<p><strong>Destination:</strong> {{ bus['destination'] }}</p>
<p><strong>Departure Time:</strong> {{ bus['departure_time'] }}</p>
<p><strong>Arrival Time:</strong> {{ bus['arrival_time'] }}</p>
<p><strong>Available Seats:</strong> {{ bus['available_seats'] }}</p>

<h3>Book Your Ticket</h3>

<form action="{{ url_for('bus_detail', id=bus['id']) }}" method="POST">
    <label for="first_name">First Name</label>
    <input type="text" id="first_name" name="first_name" required>

    <label for="last_name">Last Name</label>
    <input type="text" id="last_name" name="last_name" required>

    <label for="mobile_number">Mobile Number</label>
    <input type="text" id="mobile_number" name="mobile_number" required>

    <label for="seats_booked">Number of Seats</label>
    <input type="number" id="seats_booked" name="seats_booked" required min="1" max="{{ bus['available_seats'] }}">

    <button type="submit">Book Now</button>
</form>

{% if get_flashed_messages() %}
    <ul>
        {% for message in get_flashed_messages() %}
            <li>{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}

{% endblock %}
